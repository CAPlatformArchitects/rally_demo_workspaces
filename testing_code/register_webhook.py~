import json
import requests
from requests.auth import HTTPDigestAuth

url = "https://rally1.rallydev.com/apps/pigeon/api/v2/webhook"
headers = {"Cookie" : "ZSESSIONID=_rPhQSEkQmyCZgXa4EmVBploeDYNUOJj8hAtl9Nyo0", "Content-Type": "application/json"}
payload = "{
  "AppName":     "McQuitty",
  "AppUrl":      "www.example.com",
  "Name":        "My first webhook",
  "TargetUrl":   "http://my.service.com/ready/to/receive/post",
  "ObjectTypes": ["HierarchicalRequirement"]
  "Expressions": [
    {
      "AttributeName": "ScheduleState",
      "Operator":      "=",
      "Value":         "Defined"
    }
  ]
}" 

json_payload=json.dumps(data)

myresponse = requests.get(url, headers=headers)
pprint.pprint(myresponse.json()[`json`])
myresponss = requests.post(url, headers=headers, data=json_payload)
pprint.pprint(myresponse.json()[`json`])

